<!DOCTYPE html>
<html>
    <head>
        <% include 'head.ect' %>
        <title>DataFed Register</title>
        <script type="application/json" id="template_data">
        {
            "uname" : "<%- @uname %>"
        }
        </script>
        <script type="module" charset="utf-8" src="/dialogs.js"></script>
        <script type="module" charset="utf-8" src="/api.js"></script>
        <script type="module" charset="utf-8" src="/auth_globus_register.js"></script>
    </head>
    <body>
        <div class="col-flex ui-widget-content" style="height:100%;border:none">
            <div class="ui-widget-header row-flex" style="flex:none;align-items:center;padding:.25em .5em">
                <div style="flex:1 1 100%;font-size:2em;">Scientific Data Federation</div>
                <div style="flex:none">
                    <button class="btn btn-help">Help</button>
                </div>
            </div>
            <div style="flex:auto;overflow:auto">
            <div id="content" class="ui-widget-content" style="text-align: justify;text-justify: inter-word;margin:2em auto 1em auto;width:40em">
                <div style='font-size:250%;margin-bottom:1em'>DataFed Registration</div>
                <p>Your DataFed user ID will be "<%- @uid %>".</p>
                <br>
                <div id='uid_ok' style='display:none'>
                    <p>If you plan on using the DataFed command-line interface, a CLI password is needed for one-time setup
                        and manual authentication. If you do not plan on using the CLI, or don't want to set a password right
                        now, you may set the CLI password later in the DataFed web portal settings.</p>
                    <br>
                    <table style="margin:1em auto;border-spacing:0.5em">
                    <tr><td>CLI Password:</td><td><input type="password" id="pw1"></td></tr>
                    <tr><td>Re-enter:</td><td><input type="password" id="pw2"></td></tr>
                    </table>
                    <br><br>
                    <div style='text-align:center'><button class="btn btn-register">Continue Registration</button></div>
                    <br>
                    <div style='text-align:center'><button class="btn btn-cancel">Cancel Registration</button></div>
                </div>
                <div id='uid_bad' style='display:none'>
                    <p class='note'>Invalid Globus user name. Please update your Globus account profile with your full name (first and last), then retry DataFed login.</p>
                    <br><br>
                    <div style='text-align:center'><button class="btn btn-retry">Retry Login</button></div>
                </div>
            </div>
            </div>
            <div class="ui-widget-header" style="flex:none;padding:.25em">
                User: <%- @uname %>
            </div>
        </div>
    </body>
</html>
