---
include:
    - local: .gitlab/common.yml

check-dependencies-image:
    extends: .image_check
    stage: image-check
    variables:
        PROJECT: "datafed"
        COMPONENT: "dependencies"
        BUILD_INTERMEDIATE: "FALSE"

check-ws-image:
    extends: .image_check
    stage: image-check
    variables:
        PROJECT: "datafed"
        COMPONENT: "ws"
        BUILD_INTERMEDIATE: "TRUE"
        INTERMEDIATE_LAYER_NAME: "build"

check-core-image:
    extends: .image_check
    stage: image-check
    variables:
        PROJECT: "datafed"
        COMPONENT: "core"
        BUILD_INTERMEDIATE: "FALSE"

check-repo-image:
    extends: .image_check
    stage: image-check
    variables:
        PROJECT: "datafed"
        COMPONENT: "repo"
        BUILD_INTERMEDIATE: "FALSE"

check-gcs-base-image:
    extends: .image_check
    stage: image-check
    variables:
        PROJECT: "datafed"
        COMPONENT: "gcs_base"
        BUILD_INTERMEDIATE: "FALSE"

check-gcs-image:
    extends: .image_check
    stage: image-check
    variables:
        PROJECT: "datafed"
        COMPONENT: "gcs"
        BUILD_INTERMEDIATE: "FALSE"

check-foxx-image:
    extends: .image_check
    stage: image-check
    variables:
        PROJECT: "datafed"
        COMPONENT: "foxx"
        BUILD_INTERMEDIATE: "FALSE"
